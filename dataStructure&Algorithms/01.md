# 数据结构和算法笔记 01 - 复杂度分析
<!-- TOC -->
- [1. 进行复杂度分析的原因](#1-进行复杂度分析的原因)
- [2. 分析方法](#2-分析方法)
    - [2.1 事后统计法](#21-事后统计法)
    - [2.2 时间复杂度分析](#22-时间复杂度分析)
    - [2.3 空间复杂度分析](#23-空间复杂度分析)
<!-- /TOC -->

## 1. 进行复杂度分析的原因

数据结构和算法本身解决的是“快”和“省”的问题，即如何让代码运行得更快，如何让代码更省存储空间。所以需要从**时间**和**空间**两个维度来考量代码的执行效率。

## 2. 分析方法

### 2.1 事后统计法

实际执行代码，通过统计、监控，得到算法执行的时间和占用的内存大小。

    局限性：
    1. 测试结果非常依赖测试环境（例如硬件的不同造成的影响）
    2. 测试结果受数据规模的影响很大

因此，需要一个不用具体的测试数据来测试，就可以粗略地估计算法的执行效率的方法。

### 2.2 时间复杂度分析

```
时间复杂度：全称渐进时间复杂度（asymptotic time complexity），表示代码执行时间随数据规模增长的变化趋势。

大O时间复杂度表示法：T(n)=O(f(n))
表示代码执行时间随数据规模增长的变化趋势
```

- T(n)表示代码执行的时间；
- n 表示数据规模的大小；
- f(n)表示每行代码执行的次数总和。
- O 表示代码的执行时间 T(n) 与 f(n) 表达式成正比。

#### 1. 分析方法：

1. 只关注循环执行次数最多的一段代码: 当 n 很大时，公式中的低阶、常量、系数三部分不左右增长趋势，可以忽略，只记录一个最大量级。
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度
3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积

#### 2. 几种常见的时间复杂度量级：

1. 多项式量级：
   - 常量阶 O(1)：代码的执行时间不随 n 的增大而增长
   - 对数阶 O(logn)
   - 线性阶 O(n)
   - 线性对数阶 O(nlogn)
   - 平方阶 O(n<sup>2</sup>)、立方阶 O(n<sup>3</sup>)...k 次方阶 O(n<sup>k</sup>)
   - 其他：O(m+n)、O(m\*n)：代码复杂度由两个数据的规模来决定
2. 非多项式量级（算法复杂度随数据规模增大，急剧增大，非常低效）：
   - 指数阶 O(2<sup>n</sup>)
   - 阶乘阶 O(n!)

#### 3.特殊情况下的复杂度分析

同一段代码，在不同输入的情况下，**复杂度量级**有可能是**不一样**的，所以引入下面四种复杂度：
1. 最好情况时间复杂度：代码在最理想的情况下执行时的时间复杂度
2. 最坏情况时间复杂度：代码在最糟糕的情况下执行时的时间复杂度
3. 平均情况时间复杂度：代码在所有执行情况下的平均复杂度（用所有情况下复杂度的加权平均值表示）全称加权平均时间复杂度或期望时间复杂度
4. 均摊时间复杂度：对一个数据结构进行一组连续操作时，大部分情况下时间复杂度都很低，个别情况下时间复杂度比较高，而且这些操作之间存在前后连贯的时序关系，此时可以尝试将较高时间复杂度操作的耗时，平摊到其他时间复杂度比较低的操作上。在能够应用均摊时间复杂度分析的场合，一般均摊时间复杂度等于最好情况时间复杂度。

### 2.3 空间复杂度分析

    空间复杂度：全称渐进空间复杂度（asymptotic space complexity），表示算法的存储空间与数据规模之间的增长关系

常见复杂度量级：O(1)、O(n)、O(n<sup>2</sup>)
